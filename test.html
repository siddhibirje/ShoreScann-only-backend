<form id="predictForm">
    <input type="number" name="Year" placeholder="Year" min="2000" max="2050" required>
    <input type="number" name="Month" placeholder="Month" min="1" max="12" required>
    <input type="number" name="Rainfall" placeholder="Rainfall" min="0" step="0.1" required>
    <input type="number" name="Temperature" placeholder="Temperature" min="0" step="0.1" required>
    <input type="number" name="Tidal_Range" placeholder="Tidal Range" min="0" step="0.1" required>
    <input type="number" name="Is_Monsoon" placeholder="Is Monsoon (0 or 1)" min="0" max="1" required>
    <button type="submit">Predict Erosion</button>
</form>

<script>
    document.getElementById("predictForm").onsubmit = async (e) => {
        e.preventDefault();
        const formData = new FormData(e.target);
        const data = {
            Year: parseInt(formData.get("Year")),
            Month: parseInt(formData.get("Month")),
            Rainfall: parseFloat(formData.get("Rainfall")),
            Temperature: parseFloat(formData.get("Temperature")),
            Tidal_Range: parseFloat(formData.get("Tidal_Range")),
            Is_Monsoon: parseInt(formData.get("Is_Monsoon")),
        };

        try {
            const res = await fetch("http://127.0.0.1:8000/predict", {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify(data),
            });
            const result = await res.json();
            alert(`Predicted erosion: ${result.erosion_rate.toFixed(2)}`);  // Show prediction
        } catch (error) {
            alert("Error calling API: " + error.message);
        }
    };
</script>